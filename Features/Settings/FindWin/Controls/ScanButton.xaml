<UserControl
  x:Class="SpeechAgent.Features.Settings.FindWin.Controls.ScanButton"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:SpeechAgent.Features.Settings.FindWin.Controls"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  x:Name="Root"
  d:DesignHeight="50"
  d:DesignWidth="300"
  mc:Ignorable="d">
  <UserControl.Resources>
    <BooleanToVisibilityConverter x:Key="BoolToVisibility" />
    <Style x:Key="CustomButtonStyle" TargetType="Button">
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border
              Background="{TemplateBinding Background}"
              BorderBrush="{TemplateBinding BorderBrush}"
              BorderThickness="{TemplateBinding BorderThickness}"
              CornerRadius="5">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background" Value="#005A9E" />
        </Trigger>
        <Trigger Property="IsPressed" Value="True">
          <Setter Property="Background" Value="#004080" />
        </Trigger>
      </Style.Triggers>
    </Style>
  </UserControl.Resources>

  <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
    <Button
      Width="120"
      Height="40"
      Margin="0,0,10,0"
      Background="#007ACC"
      BorderThickness="0"
      Command="{Binding Command, ElementName=Root}"
      Content="{Binding ButtonText, ElementName=Root}"
      FontSize="14"
      FontWeight="Bold"
      Foreground="White"
      Style="{StaticResource CustomButtonStyle}" />
    <TextBlock
      Margin="20,0,0,0"
      VerticalAlignment="Center"
      FontSize="14"
      Foreground="Gray"
      Text="{Binding LoadingText, ElementName=Root}"
      Visibility="{Binding IsLoading, ElementName=Root, Converter={StaticResource BoolToVisibility}}" />
  </StackPanel>
</UserControl>
