<Window x:Class="SpeechAgent.Features.Main.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SpeechAgent.Features.Main"
        xmlns:vm="clr-namespace:SpeechAgent.Features.Main"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Style="{StaticResource MaterialDesignWindow}"
        d:DataContext="{d:DesignInstance vm:MainViewModel}"
        mc:Ignorable="d"
        Title="Voice Medic Agent" Height="450" Width="400" 
        WindowStartupLocation="CenterScreen">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Grid Grid.Row="0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
      </Grid.ColumnDefinitions>
      <TextBlock Grid.Column="0" Text="Voice Medic Agent" FontSize="20" VerticalAlignment="Center" Margin="10"/>
      <Button Grid.Column="1" Margin="10" HorizontalAlignment="Right" Command="{Binding ShowSettingsCommand}">
        <Button.Content>
          <StackPanel Orientation="Horizontal">
            <materialDesign:PackIcon Kind="CogOutline" Width="16" Height="16" />
            <TextBlock Text="설정" Margin="5,0,0,0"/>
          </StackPanel>
        </Button.Content>
      </Button>
    </Grid>
    <Grid Grid.Row="1">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        
        <materialDesign:Card Grid.Row="0" Margin="10" Padding="10">
          <StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
              <materialDesign:PackIcon Kind="CheckCircle" Foreground="Green" Visibility="{Binding IsSIOConnected, Converter={StaticResource BooleanToVisibilityConverter}}" Width="20" Height="20" />
              <materialDesign:PackIcon Kind="CloseCircle" Foreground="Red" Visibility="{Binding IsSIOConnected, Converter={StaticResource InverseBooleanToVisibilityConverter}}" Width="20" Height="20" />
              <TextBlock Text="서버 연결" FontSize="14" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
              <materialDesign:PackIcon Kind="CheckCircle" Foreground="Green" Visibility="{Binding IsJoinedRoom, Converter={StaticResource BooleanToVisibilityConverter}}" Width="20" Height="20" />
              <materialDesign:PackIcon Kind="CloseCircle" Foreground="Red" Visibility="{Binding IsJoinedRoom, Converter={StaticResource InverseBooleanToVisibilityConverter}}" Width="20" Height="20" />
              <TextBlock Text="방 접속" FontSize="14" VerticalAlignment="Center" Margin="5,0,0,0"/>
            </StackPanel>
          </StackPanel>
        </materialDesign:Card>
        <ListView Grid.Row="1" ItemsSource="{Binding PatInfos}" Margin="10">
          <ListView.ItemTemplate>
            <DataTemplate>
              <StackPanel>
                <TextBlock Text="{Binding Chart}" FontSize="14" />
                <TextBlock Text="{Binding Name}" FontSize="14" />
                <TextBlock Text="{Binding Timestamp, StringFormat='yyyy-MM-dd HH:mm:ss'}" FontSize="12" Foreground="Gray" />
              </StackPanel>
            </DataTemplate>
          </ListView.ItemTemplate>
        </ListView>
      </Grid>
      <!-- Main content here -->

    </Grid>
  </Grid>
</Window>
