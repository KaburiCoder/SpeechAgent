<Window
  x:Class="SpeechAgent.Features.Settings.ShortcutSettingsView"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:controls="clr-namespace:SpeechAgent.Controls"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:SpeechAgent.Features.Settings"
  xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:vm="clr-namespace:SpeechAgent.Features.Settings"
  Title="Shortcut Settings"
  Width="500"
  Height="700"
  d:DataContext="{d:DesignInstance vm:ShortcutSettingsViewModel}"
  AllowsTransparency="True"
  Background="Transparent"
  ResizeMode="NoResize"
  WindowStartupLocation="CenterOwner"
  WindowStyle="None"
  mc:Ignorable="d">
  <!--  전체 윈도우를 위한 둥근 테두리와 그림자  -->
  <Border
    Background="White"
    BorderBrush="#E0E0E0"
    BorderThickness="1"
    CornerRadius="8">
    <Border.Effect>
      <DropShadowEffect
        BlurRadius="10"
        Direction="270"
        Opacity="0.18"
        ShadowDepth="3"
        Color="#000000" />
    </Border.Effect>

    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
      </Grid.RowDefinitions>

      <!--  커스텀 타이틀바  -->
      <controls:CustomTitleBar
        Title="단축키 설정"
        Grid.Row="0"
        CloseCommand="{Binding CloseCommand}"
        IconKind="Keyboard" />

      <!--  메인 콘텐츠 영역  -->
      <Grid Grid.Row="1" Margin="12">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
          <StackPanel>

            <!--  단축키 설정 항목들을 하나의 Border에 담음  -->
            <Border
              Margin="0,0,0,12"
              Padding="12"
              Background="#F8F9FA"
              CornerRadius="6">
              <Grid>
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto" />
                  <RowDefinition Height="Auto" />
                  <RowDefinition Height="Auto" />
                  <RowDefinition Height="Auto" />
                  <RowDefinition Height="Auto" />
                  <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="120" />
                  <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!--  SOAP 전체  -->
                <TextBlock
                  Grid.Row="0"
                  Grid.Column="0"
                  Margin="0,0,0,8"
                  VerticalAlignment="Center"
                  FontSize="12"
                  FontWeight="SemiBold"
                  Foreground="#424242"
                  Text="전체" />
                <controls:ShortcutTextBox
                  Grid.Row="1"
                  Grid.Column="1"
                  Height="36"
                  Margin="12,0,0,8"
                  InputKey="{Binding AllKey, Mode=TwoWay}"
                  InputModifiers="{Binding AllModifiers, Mode=TwoWay}" />

                <!--  CC  -->
                <TextBlock
                  Grid.Row="1"
                  Grid.Column="0"
                  Margin="0,0,0,8"
                  VerticalAlignment="Center"
                  FontSize="12"
                  FontWeight="SemiBold"
                  Foreground="#424242"
                  Text="CC (Chief Complaint)" />
                <controls:ShortcutTextBox
                  Grid.Row="0"
                  Grid.Column="1"
                  Height="36"
                  Margin="12,0,0,8"
                  InputKey="{Binding CcKey, Mode=TwoWay}"
                  InputModifiers="{Binding CcModifiers, Mode=TwoWay}" />

                <!--  S (Subjective)  -->
                <TextBlock
                  Grid.Row="2"
                  Grid.Column="0"
                  Margin="0,0,0,8"
                  VerticalAlignment="Center"
                  FontSize="12"
                  FontWeight="SemiBold"
                  Foreground="#424242"
                  Text="S (Subjective)" />
                <controls:ShortcutTextBox
                  Grid.Row="2"
                  Grid.Column="1"
                  Height="36"
                  Margin="12,0,0,8"
                  InputKey="{Binding SKey, Mode=TwoWay}"
                  InputModifiers="{Binding SModifiers, Mode=TwoWay}" />

                <!--  O (Objective)  -->
                <TextBlock
                  Grid.Row="3"
                  Grid.Column="0"
                  Margin="0,0,0,8"
                  VerticalAlignment="Center"
                  FontSize="12"
                  FontWeight="SemiBold"
                  Foreground="#424242"
                  Text="O (Objective)" />
                <controls:ShortcutTextBox
                  Grid.Row="3"
                  Grid.Column="1"
                  Height="36"
                  Margin="12,0,0,8"
                  InputKey="{Binding OKey, Mode=TwoWay}"
                  InputModifiers="{Binding OModifiers, Mode=TwoWay}" />

                <!--  A (Assessment)  -->
                <TextBlock
                  Grid.Row="4"
                  Grid.Column="0"
                  Margin="0,0,0,8"
                  VerticalAlignment="Center"
                  FontSize="12"
                  FontWeight="SemiBold"
                  Foreground="#424242"
                  Text="A (Assessment)" />
                <controls:ShortcutTextBox
                  Grid.Row="4"
                  Grid.Column="1"
                  Height="36"
                  Margin="12,0,0,8"
                  InputKey="{Binding AKey, Mode=TwoWay}"
                  InputModifiers="{Binding AModifiers, Mode=TwoWay}" />

                <!--  P (Plan)  -->
                <TextBlock
                  Grid.Row="5"
                  Grid.Column="0"
                  Margin="0,0,0,0"
                  VerticalAlignment="Center"
                  FontSize="12"
                  FontWeight="SemiBold"
                  Foreground="#424242"
                  Text="P (Plan)" />
                <controls:ShortcutTextBox
                  Grid.Row="5"
                  Grid.Column="1"
                  Height="36"
                  Margin="12,0,0,0"
                  InputKey="{Binding PKey, Mode=TwoWay}"
                  InputModifiers="{Binding PModifiers, Mode=TwoWay}" />
              </Grid>
            </Border>

            <!--  버튼 영역  -->
            <Grid Margin="0,0,0,0">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
              </Grid.ColumnDefinitions>

              <Button
                Grid.Column="0"
                Height="36"
                Margin="0,0,6,0"
                materialDesign:ButtonAssist.CornerRadius="6"
                Command="{Binding SaveCommand}"
                Style="{StaticResource MaterialDesignRaisedButton}">
                <StackPanel Orientation="Horizontal">
                  <materialDesign:PackIcon
                    Width="16"
                    Height="16"
                    VerticalAlignment="Center"
                    Kind="ContentSave" />
                  <TextBlock
                    Margin="6,0,0,0"
                    VerticalAlignment="Center"
                    FontSize="13"
                    Text="저장" />
                </StackPanel>
              </Button>

              <Button
                Grid.Column="1"
                Height="36"
                Margin="6,0,0,0"
                materialDesign:ButtonAssist.CornerRadius="6"
                Command="{Binding CloseCommand}"
                Style="{StaticResource MaterialDesignOutlinedButton}">
                <StackPanel Orientation="Horizontal">
                  <materialDesign:PackIcon
                    Width="16"
                    Height="16"
                    VerticalAlignment="Center"
                    Kind="Close" />
                  <TextBlock
                    Margin="6,0,0,0"
                    VerticalAlignment="Center"
                    FontSize="13"
                    Text="닫기" />
                </StackPanel>
              </Button>
            </Grid>

          </StackPanel>
        </ScrollViewer>
      </Grid>
    </Grid>
  </Border>
</Window>
