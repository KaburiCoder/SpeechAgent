<UserControl x:Class="SpeechAgent.Features.Settings.FindWin.Controls.WindowListControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:SpeechAgent.Features.Settings.FindWin.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
  <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5">
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
      <ListBox ItemsSource="{Binding Windows}"
                     SelectedItem="{Binding SelectedWindow}"
                     BorderThickness="0"
                     Background="Transparent">
        <ListBox.ItemsPanel>
          <ItemsPanelTemplate>
            <WrapPanel Orientation="Horizontal"/>
          </ItemsPanelTemplate>
        </ListBox.ItemsPanel>
        <ListBox.ItemTemplate>
          <DataTemplate>
            <Border BorderBrush="LightGray" 
                                BorderThickness="1" 
                                Margin="5" 
                                CornerRadius="5"
                                Background="White"
                                Width="420"
                                Cursor="Hand">
              <Border.Style>
                <Style TargetType="Border">
                  <Style.Triggers>
                    <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                      <Setter Property="Background" Value="LightBlue"/>
                    </DataTrigger>
                    <Trigger Property="IsMouseOver" Value="True">
                      <Setter Property="Background" Value="LightYellow"/>
                    </Trigger>
                  </Style.Triggers>
                </Style>
              </Border.Style>
              <StackPanel Margin="10">
                <!-- 스크린샷 -->
                <Image Source="{Binding Screenshot}"         
                                       RenderOptions.BitmapScalingMode="HighQuality"
                                       MaxHeight="238"
                                       Margin="0,0,0,10"/>
                <!-- 윈도우 정보 -->
                <TextBlock Text="{Binding Title}" 
                                           FontWeight="Bold" 
                                           FontSize="12"
                                           TextWrapping="Wrap"
                                           Margin="0,0,0,5"/>
                <TextBlock FontSize="10" Foreground="Gray">
                                    <Run Text="Process: "/>
                                    <Run Text="{Binding ProcessName}"/>
                </TextBlock>
                <TextBlock Text="{Binding ClassName}" 
                                           FontSize="10" 
                                           Foreground="Gray"
                                           TextWrapping="Wrap"/>
              </StackPanel>
            </Border>
          </DataTemplate>
        </ListBox.ItemTemplate>
        <ListBox.ItemContainerStyle>
          <Style TargetType="ListBoxItem">
            <Setter Property="Template">
              <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                  <ContentPresenter/>
                </ControlTemplate>
              </Setter.Value>
            </Setter>
          </Style>
        </ListBox.ItemContainerStyle>
      </ListBox>
    </ScrollViewer>
  </Border>
</UserControl>
